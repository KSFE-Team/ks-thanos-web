(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{168:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"component",function(){return ve}),a.d(n,"getInitJson",function(){return $}),a.d(n,"getTools",function(){return U}),a.d(n,"config",function(){return fe});var r={};a.r(r),a.d(r,"component",function(){return Ne}),a.d(r,"getInitJson",function(){return Oe}),a.d(r,"getTools",function(){return je}),a.d(r,"config",function(){return Se});var o={};a.r(o),a.d(o,"component",function(){return He}),a.d(o,"getInitJson",function(){return De}),a.d(o,"getTools",function(){return Te}),a.d(o,"config",function(){return Be});var c={};a.r(c),a.d(c,"component",function(){return tt}),a.d(c,"getInitJson",function(){return _e}),a.d(c,"getTools",function(){return We}),a.d(c,"config",function(){return et});var l={};a.r(l),a.d(l,"component",function(){return ht}),a.d(l,"getInitJson",function(){return rt}),a.d(l,"getTools",function(){return ot}),a.d(l,"config",function(){return dt});var i={};a.r(i),a.d(i,"component",function(){return Ct}),a.d(i,"getInitJson",function(){return bt}),a.d(i,"getTools",function(){return ft}),a.d(i,"config",function(){return Et});var s={};a.r(s),a.d(s,"component",function(){return wt}),a.d(s,"getInitJson",function(){return kt}),a.d(s,"getTools",function(){return St}),a.d(s,"config",function(){return Dt});var u={};a.r(u),a.d(u,"component",function(){return _t}),a.d(u,"getInitJson",function(){return xt}),a.d(u,"getTools",function(){return Pt}),a.d(u,"config",function(){return Gt});var p={};a.r(p),a.d(p,"component",function(){return oa}),a.d(p,"getInitJson",function(){return Wt}),a.d(p,"getTools",function(){return $t}),a.d(p,"config",function(){return ra});var m={};a.r(m),a.d(m,"component",function(){return Oa}),a.d(m,"getInitJson",function(){return la}),a.d(m,"getTools",function(){return ia}),a.d(m,"config",function(){return va});a(391);var d,h=a(387),b=a.n(h),f=(a(214),a(176)),g=a.n(f),v=a(177),O=a(178),j=a(181),E=a(179),y=a(180),C=a(0),k=a.n(C),S=a(56),N=(a(195),a(193)),D=a.n(N),T=a(252),w=a.n(T),I=a(253),x=(a(297),a(310)),P=a.n(x),A=a(185),V=a(251),F=[{key:"normal",name:"\u6b63\u5e38\u8868\u5355"},{key:"search",name:"\u641c\u7d22\u8868\u5355"}],J=Object(V.a)(F,2),R=J[0].key,L=J[1].key,Y=function e(t){return t.map(function(a){var n=a.components,r=void 0===n?[]:n;if("Form"===a.componentName&&r.length){var o=a.type,c=a.stateName;if(a.components=e(r).map(function(e){return Object(A.a)({},e,{formType:o,stateName:c})}),o===R)a.activeEvents=[{eventType:"request",dependencies:{type:"fetch",api:a.saveApi,actionType:"save",responseType:"object",method:"post"}},{eventType:"request",dependencies:{type:"fetch",api:a.updateApi,actionType:"update",responseType:"object",method:"post"}}];else if(o===L){var l=t.findIndex(function(e){return"Table"===e.componentName});l>0&&(a.activeEvents=[{eventType:"request",dependencies:Object(A.a)({},t[l].dependencies,{responseType:"list"})}])}}return a})},M=(a(660),a(261)),B=P.a.confirm,K=P.a.error,H=Object(S.connect)(function(e){var t=e.generatePage,a=void 0===t?{}:t,n=e.operate;return{generatePage:a,operate:void 0===n?{}:n}})(d=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(){var e=a.props.generatePage,t=e.pageJSON,n=e.pageName;n?B({title:"\u786e\u8ba4\u63d0\u4ea4\u914d\u7f6e\uff1f",content:"\u8bf7\u786e\u8ba4\u63d0\u4ea4\u6240\u5199\u914d\u7f6e\uff0c\u9875\u9762\u540d\u79f0\u91cd\u590d\u5219\u4f1a\u8986\u76d6\u4e4b\u524d\u7684\u914d\u7f6e\uff0c\u8bf7\u8c28\u614e\u3002",onOk:function(){var e=Object(I.a)(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:S.actions.generatePage.addTemplateItem({pageData:JSON.stringify({components:Y(t.components)}),pageName:n});case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}):K({title:"\u914d\u7f6e\u9519\u8bef",content:"\u8bf7\u586b\u5199\u9875\u9762\u6a21\u677f\u540d\u79f0\uff01"})},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props.showTopToolbar,t=void 0!==e&&e;return k.a.createElement("div",{className:"thanos-common"},k.a.createElement("div",{className:"header"},k.a.createElement("span",{className:"title"},"\u706d\u9738\xa0\xa0"),k.a.createElement("span",{className:"sub-title"},"\u6253\u4e2a\u54cd\u6307\uff0c\u9875\u9762\u5c31\u597d\u4e86"),t&&k.a.createElement("span",{className:"user"},k.a.createElement(D.a,{className:"mar-l-4",onClick:function(){Object(M.a)("")}},"\u8fd4\u56de"),k.a.createElement(D.a,{className:"mar-l-4",type:"primary",onClick:this.handleSubmit},"\u6253\u54cd\u6307"))))}}]),t}(C.Component))||d,q=a(215),G=a(326),_=(a(244),a(246)),W=a.n(_),$=function(){return{stateName:"",componentName:"Table",source:"antd",default:!1,props:{columns:[{title:"\u793a\u4f8b",dataIndex:"example"}]},dependencies:{},components:[]}},U=function(){return{name:"Table",icon:"table",componentName:"Table"}},z=(a(200),a(201)),Q=a.n(z),X=(a(199),a(202)),Z=a.n(X),ee=(a(295),a(247)),te=a.n(ee),ae=(a(191),a(194)),ne=a.n(ae),re=(a(320),a(321)),oe=a.n(re),ce=a(239),le=(a(186),a(187)),ie=a.n(le),se=(a(296),a(271)),ue=a.n(se),pe=a(198),me=ue.a.Option,de=ie.a.Item,he=k.a.createContext(null),be=ie.a.create()(function(e){var t=e.form,a=(e.index,Object(q.a)(e,["form","index"]));return k.a.createElement(he.Provider,{value:t},k.a.createElement("tr",a))}),fe=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={api:"",currentComponent:{id:"",stateName:""},currentComponentIdx:"",dataSource:[],editDataFlag:!1,method:"GET",searchComponentChecked:!1,tableCount:0},a.handleTableInputSave=function(e){var t=Object(ce.a)(a.state.dataSource),n=t.findIndex(function(t){return e.key===t.key}),r=t[n],o=Object(A.a)({},r,e);t.splice(n,1,o),a.setState({dataSource:t})},a.handleAdd=function(){var e=a.state,t=e.tableCount,n=e.dataSource,r={key:++t,dataKey:"",tableName:""};a.setState({dataSource:[].concat(Object(ce.a)(n),[r]),tableCount:t})},a.handleTableRowDelete=function(e){var t=Object(ce.a)(a.state.dataSource);a.setState({dataSource:t.filter(function(t){return t.key!==e})})},a.saveTableData=function(){if(a.checkData()){var e=a.props.pageJSON,t=a.state,n=t.currentComponent,r=t.api,o=t.method,c=t.dataSource;e.components=e.components.map(function(e){return e.configVisible&&(e.stateName=n.stateName,e.props.columns=c.map(function(e){return{title:e.tableName,dataIndex:e.dataKey}}),e.dependencies={type:"fetch",responseType:"list",api:r,method:o,actionType:"get"}),e}),a.props.onSave(e)}},a.checkData=function(){var e=a.state,t=e.api,n=e.method,r=e.dataSource,o=e.currentComponent;return t?n&&n?r.length?!!o.stateName||(oe.a.error("\u8868\u5934\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a"),!1):(oe.a.error("\u8868\u5934\u6570\u636e\u4e0d\u80fd\u4e3a\u7a7a"),!1):(oe.a.error("\u8bf7\u6c42\u65b9\u5f0f\u4e0d\u53ef\u4e3a\u7a7a"),!1):(oe.a.error("api\u4e0d\u53ef\u4e3a\u7a7a"),!1)},a.addSearchComponent=function(e){var t=a.props.pageJSON;if(e.target.checked){var n=a.state,r=n.currentComponentIdx,o=n.currentComponent,c=Object(A.a)({},ja.Input.getInitJson(),{id:Object(pe.c)(),parentId:o.id});t.components.splice(r,0,c),S.actions.generatePage.setReducers(t)}else{var l=t.components.findIndex(function(e){return e.parentId&&e.parentId===a.state.currentComponent.id});t.components.splice(l,1),S.actions.generatePage.setReducers(t)}a.setState({searchComponentChecked:e.target.checked})},a.methodChange=function(e){a.setState({method:e})},a.apiInputChange=function(e){var t=e.target.value;a.setState({api:t})},a.stateNameInputChange=function(e){var t=e.target.value,n=Object(A.a)({},a.state.currentComponent,{stateName:t});a.setState({currentComponent:n})},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t={labelCol:{span:8},wrapperCol:{span:16}},a=this.state,n=a.dataSource,r=a.searchComponentChecked,o=[{title:"\u8868\u5934\u540d\u79f0",dataIndex:"tableName",editable:!0},{title:"\u63a5\u53e3\u5b57\u6bb5",dataIndex:"dataKey",editable:!0},{title:"operation",dataIndex:"operation",render:function(t,a){return e.state.dataSource.length>=2?k.a.createElement("div",null,k.a.createElement(D.a,{title:"Sure to delete?",type:"danger",onClick:function(){return e.handleTableRowDelete(a.key)}},"Delete")):null}}],c={body:{row:be,cell:ge}};return o=o.map(function(t){return t.editable?Object(A.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleTableInputSave}}}):t}),k.a.createElement(k.a.Fragment,null,k.a.createElement(de,Object.assign({},t,{label:"\u63a5\u53e3\u5730\u5740"}),k.a.createElement(ne.a,{value:this.state.api,placeholder:"\u4f8b\uff1a/userservice/media/upload",onChange:this.apiInputChange})),k.a.createElement(de,Object.assign({},t,{label:"\u8bf7\u6c42\u65b9\u5f0f"}),k.a.createElement(ue.a,{defaultValue:this.state.method,style:{width:120},onChange:this.methodChange},k.a.createElement(me,{value:"GET"},"GET"),k.a.createElement(me,{value:"POST"},"POST"))),k.a.createElement(de,Object.assign({},t,{label:"\u8868\u683c\u540d\u79f0"}),k.a.createElement(ne.a,{value:this.state.currentComponent.stateName,placeholder:"\u7ec4\u4ef6\u5b58\u50a8\u6570\u636eKey, \u4f7f\u7528\u82f1\u6587\u4e14\u552f\u4e00",onChange:this.stateNameInputChange})),k.a.createElement(W.a,{components:c,dataSource:n,bordered:!0,columns:o,pagination:!1}),k.a.createElement(Z.a,{style:{marginTop:"10px"},type:"flex",justify:"end",gutter:1},k.a.createElement(te.a,{checked:r,onChange:this.addSearchComponent},"\u662f\u5426\u62e5\u6709\u6761\u4ef6\u641c\u7d22")),k.a.createElement(Z.a,{style:{marginTop:"20px"},type:"flex",justify:"end",gutter:1},k.a.createElement(Q.a,null,k.a.createElement(D.a,{onClick:this.handleAdd,type:"primary",style:{marginBottom:16}},"Add a row")),k.a.createElement(Q.a,{offset:1},k.a.createElement(D.a,{type:"primary",onClick:this.saveTableData},"\u786e\u5b9a"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};if(!t.editDataFlag){var n=e.pageJSON.components.find(function(e,t){return e.configVisible&&(a.currentComponentIdx=t,a.editDataFlag=!0),e.configVisible});if(n){if(a.currentComponent=n,e.pageJSON.components.forEach(function(e){e.parentId&&e.parentId===n.id&&(a.searchComponentChecked=!0)}),0===t.dataSource.length){var r=n.props.columns.map(function(e,t){return{dataKey:e.dataIndex,key:t,tableName:e.title}});a.dataSource=r,a.tableCount=r.length}!t.api&&n.dependencies&&(a.api=n.dependencies.api||""),n.dependencies.method&&(a.method=n.dependencies.method)}}return Object.keys(a).length?a:null}}]),t}(C.Component),ge=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={editing:!1},a.input=void 0,a.form=void 0,a.toggleEdit=function(){var e=!a.state.editing;a.setState({editing:e},function(){e&&a.input.focus()})},a.save=function(e){var t=a.props,n=t.record,r=t.handleSave;a.form.validateFields(function(t,o){t&&t[e.currentTarget.id]||(a.toggleEdit(),r(Object(A.a)({},n,o)))})},a.renderCell=function(e){a.form=e;var t=a.props,n=t.children,r=t.dataIndex,o=t.record,c=t.title;return a.state.editing?k.a.createElement(ie.a.Item,{style:{margin:0}},e.getFieldDecorator(r,{rules:[{required:!0,message:"".concat(c," is required.")}],initialValue:o[r]})(k.a.createElement(ne.a,{ref:function(e){return a.input=e},onPressEnter:a.save,onBlur:a.save}))):k.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24,minHeight:"21px"},onClick:a.toggleEdit},n)},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.editable,a=e.children,n=(e.dataIndex,e.title,e.record,e.index,e.handleSave,Object(q.a)(e,["editable","children","dataIndex","title","record","index","handleSave"]));return k.a.createElement("td",n,t?k.a.createElement(he.Consumer,null,this.renderCell):a)}}]),t}(k.a.Component),ve=function(e){function t(){return Object(v.a)(this,t),Object(j.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return k.a.createElement(W.a,this.props)}}]),t}(k.a.Component),Oe=function(){return{stateName:"",componentName:"Input",source:"antd",default:!1,key:"",label:""}},je=function(){return{name:"Input",icon:"edit",componentName:"Input"}},Ee=a(203),ye=a(55),Ce=ie.a.Item,ke="label",Se=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={formData:{},isTouch:!1,current:{id:"",props:{}}},a.handleSave=function(){var e=a.state,t=e.formData,n=e.current,r=a.props,o=r.pageJSON,c=r.onSave;o.components=Object(pe.f)(n.id,o.components,Object(A.a)({},t,{props:Object(A.a)({},n.props,{placeholder:t[ke]})})),c&&c(o)},a.handleChange=function(e,t){var n=a.state.formData,r=t.target.value;a.setState({formData:Object(A.a)({},n,Object(Ee.a)({},e,r)),isTouch:!0})},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.state.formData;return k.a.createElement("div",null,k.a.createElement(Ce,Object.assign({label:ye.a.KEY},ye.b),k.a.createElement(ne.a,{value:e.key,placeholder:"\u4f8b\u5982\uff1a name",onChange:this.handleChange.bind(this,"key")})),k.a.createElement(Ce,Object.assign({label:ye.a.LABEL},ye.b),k.a.createElement(ne.a,{value:e[ke],placeholder:"\u4f8b\u5982\uff1a \u59d3\u540d",onChange:this.handleChange.bind(this,ke)})),k.a.createElement(Ce,null,k.a.createElement(Z.a,null,k.a.createElement(Q.a,null,k.a.createElement(D.a,{onClick:this.handleSave,type:"primary"},"\u786e\u5b9a")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.isTouch)return t;var a,n=e.pageJSON.components,r=Object(pe.b)(n);return{formData:(a={},Object(Ee.a)(a,"key",r.key),Object(Ee.a)(a,ke,r[ke]),a),current:r}}}]),t}(C.Component),Ne=function(e){function t(){return Object(v.a)(this,t),Object(j.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.config,a=(e.generatePage,Object(q.a)(e,["config","generatePage"])),n=t.label,r=void 0===n?"":n;return k.a.createElement(ie.a.Item,Object.assign({},ye.b,{style:{marginBottom:0},label:r}),k.a.createElement(ne.a,Object.assign({},a,{style:{width:"300px"}})))}}]),t}(C.Component),De=function(){return{stateName:"",componentName:"Select",source:"antd",default:!1,key:"",label:"",props:{placeholder:"",disabled:!1,allowClear:!0,showSearch:!1}}},Te=function(){return{name:"Select",icon:"down-square",componentName:"Select"}},we=(a(661),a(665)),Ie=a.n(we),xe=(a(232),a(226)),Pe=a.n(xe),Ae=ie.a.Item,Ve=Pe.a.Group,Fe=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"renderContent",value:function(e,t){var a;switch(e){case"boolean":a=k.a.createElement(Ve,t,k.a.createElement(Pe.a,{value:!0},"true"),k.a.createElement(Pe.a,{value:!1},"false"));break;default:a=k.a.createElement(ne.a,t)}return a}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.label,n=e.form,r=e.formItemLayout,o=e.defaultValue,c=e.type,l=Object(q.a)(e,["name","label","form","formItemLayout","defaultValue","type"]);return k.a.createElement(Ae,Object.assign({label:a},r),n.getFieldDecorator(t,{initialValue:o})(this.renderContent(c,l)))}}]),t}(C.Component),Je=0,Re=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).remove=function(e){var t=a.props.form,n=t.getFieldValue("keys");1!==n.length&&t.setFieldsValue({keys:n.filter(function(t){return t!==e})})},a.add=function(){var e=a.props.form,t=e.getFieldValue("keys").concat(Je++);e.setFieldsValue({keys:t})},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldValue,r=this.props,o=r.label,c=r.name,l=r.addText,i=r.defaultValue,s=void 0===i?[]:i,u={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},p={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:4}}};a("keys",{initialValue:s.map(function(e,t){return t})});var m=n("keys"),d=m.map(function(t,n){return k.a.createElement(ie.a.Item,Object.assign({},0===n?u:p,{label:0===n?o:"",required:!1,key:t}),a("".concat(c,"[").concat(t,"].label"),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"\u8bf7\u586b\u5199label"}],initialValue:s[t]?s[t].label:void 0})(k.a.createElement(ne.a,{placeholder:"\u8bf7\u586b\u5199label",style:{width:"40%",marginRight:8}})),a("".concat(c,"[").concat(t,"].props.value"),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"\u8bf7\u586b\u5199value"}],initialValue:s[t]?s[t].props.value:void 0})(k.a.createElement(ne.a,{placeholder:"\u8bf7\u586b\u5199value",style:{width:"40%",marginRight:8}})),m.length>1?k.a.createElement(g.a,{className:"dynamic-delete-button",type:"minus-circle-o",onClick:function(){return e.remove(t)}}):null)});return k.a.createElement(k.a.Fragment,null,d,k.a.createElement(ie.a.Item,p,k.a.createElement(D.a,{type:"dashed",onClick:this.add,style:{width:"60%"}},k.a.createElement(g.a,{type:"plus"})," ",l)))}}]),t}(C.Component),Le=ie.a.Item,Ye=[{name:"placeholder",label:ye.a.PLACEHOLDER,type:"input",placeholder:"\u4f8b\u5982\uff1a\u8bf7\u9009\u62e9\u8ba2\u5355\u7c7b\u578b"},{name:"allowClear",label:"\u5141\u8bb8\u6e05\u7a7a",type:"boolean"},{name:"disabled",label:"\u662f\u5426\u7981\u7528",type:"boolean"},{name:"showSearch",label:"\u5c55\u793a\u641c\u7d22",type:"boolean"}],Me=function(e){function t(e){var a;return Object(v.a)(this,t),(a=Object(j.a)(this,Object(E.a)(t).call(this,e))).handleSave=function(){a.props.form.validateFields(function(e,t){if(!e){a.setState({formData:Object(A.a)({},t),isTouch:!0});var n=a.state.current,r=t.options,o=t.props,c=a.props,l=c.pageJSON,i=c.onSave;l.components=Object(pe.f)(n.id,l.components,{key:t.key,label:t.label||"",props:Object(A.a)({},o),options:r}),i&&i(l)}})},a.handleChange=function(e,t){var n=a.state.formData,r=t.target.value;a.setState({formData:Object(A.a)({},n,Object(Ee.a)({},e,r)),isTouch:!0})},a.state={formData:{},isTouch:!1,current:{id:"",props:{}}},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.state.formData,t=this.props.form,a=t.getFieldDecorator;return k.a.createElement("div",null,k.a.createElement(Le,Object.assign({label:ye.a.KEY},ye.b),a("key",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8868\u5355\u5b57\u6bb5\u540d"}],initialValue:e.key})(k.a.createElement(ne.a,{placeholder:"\u4f8b\u5982\uff1a orderType"}))),k.a.createElement(Le,Object.assign({label:ye.a.LABEL},ye.b),a("label",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8868\u5355\u9879\u540d\u79f0"}],initialValue:e.label})(k.a.createElement(ne.a,{placeholder:"\u4f8b\u5982\uff1a \u8ba2\u5355\u7c7b\u578b"}))),k.a.createElement(Ie.a,{title:"Select Props \u914d\u7f6e"},Ye.map(function(a,n){var r=a.type,o=a.name,c=a.label,l=Object(q.a)(a,["type","name","label"]);return k.a.createElement(Fe,Object.assign({key:n,type:r,name:"props.".concat(o),label:c,defaultValue:e.props?e.props[a.name]:void 0,form:t,formItemLayout:ye.b},l))})),k.a.createElement(Ie.a,{title:"Option \u914d\u7f6e"},k.a.createElement(Re,{form:t,name:"options",label:"\u4e0b\u62c9\u9009\u9879",addText:"\u6dfb\u52a0\u9009\u9879",defaultValue:e.options})),k.a.createElement(Le,null,k.a.createElement(Z.a,null,k.a.createElement(Q.a,null,k.a.createElement(D.a,{onClick:this.handleSave,type:"primary"},"\u786e\u5b9a")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.isTouch)return t;var a,n=e.pageJSON.components,r=Object(pe.b)(n);return{formData:(a={},Object(Ee.a)(a,"key",r.key),Object(Ee.a)(a,"label",r.label),Object(Ee.a)(a,"props",r.props),Object(Ee.a)(a,"options",r.options),a),current:r}}}]),t}(C.Component),Be=ie.a.create()(Me),Ke=ue.a.Option,He=function(e){function t(){return Object(v.a)(this,t),Object(j.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.allowClear,a=e.disabled,n=e.placeholder,r=e.showSearch,o=e.config,c=o.options,l=void 0===c?[]:c,i=o.label,s={allowClear:t,disabled:a,placeholder:n,showSearch:r};return k.a.createElement(ie.a.Item,Object.assign({label:i},ye.b,{style:{marginBottom:0}}),k.a.createElement(ue.a,Object.assign({},s,{optionFilterProp:"children",style:{width:"300px"},filterOption:function(e,t){return t.props.value.toLowerCase().indexOf(e.toLowerCase())>-1||t.props.children.toLowerCase().indexOf(e.toLowerCase())>-1}}),l.map(function(e,t){return k.a.createElement(Ke,{key:t,value:e.props.value},e.label)})))}}]),t}(C.Component),qe=(a(393),a(394)),Ge=a.n(qe),_e=function(){return{stateName:"",componentName:"DatePicker",source:"antd",default:!1,key:"",label:""}},We=function(){return{name:"DatePicker",icon:"calendar",componentName:"DatePicker"}},$e=ie.a.Item,Ue="placeholder",ze="format",Qe="showTime",Xe="key",Ze="label",et=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={showTime:!0,format:"YYYY-MM-DD",placeholder:"",key:"",label:"",current:{id:"",props:{}},isTouch:!1},a.handleSave=function(){var e,t,n=a.state,r=n.placeholder,o=n.showTime,c=n.format,l=n.key,i=n.label,s=n.current,u=a.props,p=u.pageJSON,m=u.onSave;p.components=Object(pe.f)(s.id,p.components,(t={},Object(Ee.a)(t,Xe,l),Object(Ee.a)(t,Ze,i),Object(Ee.a)(t,"props",Object(A.a)({},s.props,(e={},Object(Ee.a)(e,Ue,r),Object(Ee.a)(e,Qe,o),Object(Ee.a)(e,ze,c),e))),t)),m&&m(p)},a.handleChange=function(e,t){var n,r=t.target.value;a.setState((n={},Object(Ee.a)(n,e,r),Object(Ee.a)(n,"isTouch",!0),n))},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.state,t=e.placeholder,a=e.format,n=e.showTime,r=e.key,o=e.label;return k.a.createElement("div",null,k.a.createElement($e,Object.assign({label:ye.a.KEY},ye.b),k.a.createElement(ne.a,{value:r,placeholder:"\u4f8b\u5982\uff1a name",onChange:this.handleChange.bind(this,Xe)})),k.a.createElement(ie.a.Item,Object.assign({},ye.b,{label:ye.a.LABEL}),k.a.createElement(ne.a,{value:o,placeholder:"\u4f8b\u5982\uff1a label",onChange:this.handleChange.bind(this,Ze)})),k.a.createElement($e,Object.assign({label:"\u662f\u5426\u53ef\u9009\u65f6\u95f4"},ye.b),k.a.createElement(Pe.a.Group,{onChange:this.handleChange.bind(this,Qe),value:n},k.a.createElement(Pe.a,{value:!0},"\u662f"),k.a.createElement(Pe.a,{value:!1},"\u5426"))),k.a.createElement($e,Object.assign({label:ye.a.PLACEHOLDER},ye.b),k.a.createElement(ne.a,{value:t,onChange:this.handleChange.bind(this,Ue)})),k.a.createElement($e,Object.assign({label:"\u65e5\u671f\u683c\u5f0f"},ye.b),k.a.createElement(ne.a,{value:a,placeholder:"YYYY-MM-DD HH:mm:ss",onChange:this.handleChange.bind(this,ze)})),k.a.createElement($e,null,k.a.createElement(Z.a,null,k.a.createElement(Q.a,null,k.a.createElement(D.a,{onClick:this.handleSave,type:"primary"},"\u786e\u5b9a")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.isTouch)return t;var a=e.pageJSON.components;return{current:Object(pe.b)(a)}}}]),t}(C.Component),tt=function(e){function t(){return Object(v.a)(this,t),Object(j.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.config,a=(e.generatePage,Object(q.a)(e,["config","generatePage"])),n=t.label;return k.a.createElement(ie.a.Item,Object.assign({label:n||"\u65f6\u95f4\u9009\u62e9"},ye.b,{style:{marginBottom:0}}),k.a.createElement(Ge.a,Object.assign({},a,{style:{width:"300px"}})))}}]),t}(C.Component);tt.defaultProps={label:"\u65f6\u95f4\u9009\u62e9 "};a(408);var at=a(409),nt=a.n(at),rt=function(){return{stateName:"",componentName:"InputNumber",source:"antd",default:!1,key:"",label:"\u6570\u5b57\u6846",props:{min:"",max:"",defaultValue:"",placeholder:"",disabled:!1,precision:0,step:1}}},ot=function(){return{name:"InputNumber",icon:"number",componentName:"InputNumber"}},ct=ie.a.Item,lt="label",it="initialValue",st="min",ut="max",pt="key",mt=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={formData:{},isTouch:!1,current:{id:"",props:{}}},a.handleSave=function(){a.props.form.validateFields(function(e,t){if(!e){var n;if(t[st]>t[ut])return void oe.a.error("\u6700\u5c0f\u503c\u4e0d\u80fd\u5927\u4e8e\u6700\u5927\u503c\uff01");var r=a.state.current,o=a.props,c=o.pageJSON,l=o.onSave,i=t[pt],s=t[lt],u=t[it];delete t[pt],delete t[lt],delete t[it],c.components=Object(pe.f)(r.id,c.components,(n={},Object(Ee.a)(n,pt,i),Object(Ee.a)(n,lt,s),Object(Ee.a)(n,it,u),Object(Ee.a)(n,"props",Object(A.a)({},r.props,t)),n)),l&&l(c)}})},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.formData;return k.a.createElement("div",null,k.a.createElement(ct,Object.assign({label:ye.a.KEY},ye.b),e(pt,{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8868\u5355key"}],initialValue:t[pt]})(k.a.createElement(ne.a,{placeholder:"\u4f8b\u5982:inputnumber"}))),k.a.createElement(ct,Object.assign({label:ye.a.LABEL},ye.b),e(lt,{initialValue:t[lt]})(k.a.createElement(ne.a,{placeholder:"\u4f8b\u5982:inputnumber"}))),k.a.createElement(ct,Object.assign({label:ye.a.PLACEHOLDER},ye.b),e("placeholder",{initialValue:t.placeholder})(k.a.createElement(ne.a,{placeholder:"\u4f8b\u5982:inputnumber"}))),k.a.createElement(ct,Object.assign({label:"\u9ed8\u8ba4\u503c"},ye.b),e(it,{initialValue:t[it]})(k.a.createElement(nt.a,{placeholder:"\u4f8b\u5982:1"}))),k.a.createElement(ct,Object.assign({label:"\u6700\u5c0f\u503c"},ye.b),e(st,{initialValue:t[st]})(k.a.createElement(nt.a,{placeholder:"\u4f8b\u5982:1"}))),k.a.createElement(ct,Object.assign({label:"\u6700\u5927\u503c"},ye.b),e(ut,{initialValue:t[ut]})(k.a.createElement(nt.a,{placeholder:"\u4f8b\u5982:100"}))),k.a.createElement(ct,Object.assign({label:"\u662f\u5426\u7981\u7528"},ye.b),e("disabled",{initialValue:t.disabled})(k.a.createElement(Pe.a.Group,null,k.a.createElement(Pe.a,{value:!0},"true"),k.a.createElement(Pe.a,{value:!1},"false")))),k.a.createElement(ct,Object.assign({label:"\u6570\u503c\u7cbe\u5ea6"},ye.b),e("precision",{initialValue:t.precision})(k.a.createElement(nt.a,{max:100,placeholder:"\u4f8b\u5982:100"}))),k.a.createElement(ct,Object.assign({label:"\u6bcf\u6b21\u6539\u53d8\u6b65\u6570"},ye.b),e("step",{initialValue:t.step})(k.a.createElement(nt.a,{placeholder:"\u4f8b\u5982:1"}))),k.a.createElement(ct,null,k.a.createElement(Z.a,null,k.a.createElement(Q.a,null,k.a.createElement(D.a,{onClick:this.handleSave,type:"primary"},"\u786e\u5b9a")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.isTouch)return t;var a,n=e.pageJSON.components,r=Object(pe.b)(n);return{formData:Object(A.a)({},r.props,(a={},Object(Ee.a)(a,it,r[it]),Object(Ee.a)(a,pt,r[pt]),Object(Ee.a)(a,lt,r[lt]),a)),current:r}}}]),t}(C.Component),dt=ie.a.create()(mt),ht=function(e){function t(){return Object(v.a)(this,t),Object(j.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.config,a=Object(q.a)(e,["config"]),n=t.label,r=void 0===n?"":n,o={};return o=a,"defaultValue"in a&&(o.value=a.defaultValue,delete o.defaultValue),k.a.createElement(ie.a.Item,Object.assign({},ye.b,{style:{marginBottom:0},label:r}),k.a.createElement(nt.a,o))}}]),t}(C.Component);ht.defaultProps={label:"\u6570\u5b57\u6846"};var bt=function(){return{stateName:"",componentName:"RangePicker",source:"antd",default:!1,key:"",label:"\u65f6\u95f4\u533a\u95f4",parentComponentName:"DatePicker",props:{placeholder:["\u5f00\u59cb\u65f6\u95f4","\u622a\u6b62\u65f6\u95f4"]}}},ft=function(){return{name:"RangePicker",icon:"calendar",componentName:"RangePicker"}},gt=(a(323),a(324)),vt=a.n(gt),Ot=ie.a.Item,jt=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={formData:{props:{}},isTouch:!1,current:{id:"",props:{}}},a.handleSave=function(){a.props.form.validateFields(function(e,t){if(!e){a.setState({formData:Object(A.a)({},t),isTouch:!0});var n=a.state.current,r=t.props,o=a.props,c=o.pageJSON,l=o.onSave,i={key:t.key,label:t.label||"",props:Object(A.a)({},n.props,{placeholder:[],format:r.format,showTime:r.showTimeFormat?{format:r.showTimeFormat}:r.showTime})};r.placeholder&&(i.props.placeholder=r.placeholder.split("/")),c.components=Object(pe.f)(n.id,c.components,i),l&&l(c)}})},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props.form,t=e.getFieldDecorator,a=e.getFieldValue,n=e.setFieldsValue,r=this.state,o=r.formData,c=r.formData.props;return k.a.createElement("div",null,k.a.createElement(Ot,Object.assign({label:ye.a.KEY},ye.b),t("key",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165".concat(ye.a.KEY)}],initialValue:o.key})(k.a.createElement(ne.a,{placeholder:"\u4f8b\u5982\uff1a rangePicker"}))),k.a.createElement(Ot,Object.assign({label:ye.a.LABEL},ye.b),t("label",{initialValue:o.label})(k.a.createElement(ne.a,{placeholder:"\u4f8b\u5982\uff1a \u65f6\u95f4\u533a\u95f4"}))),k.a.createElement(Ot,Object.assign({label:ye.a.PLACEHOLDER},ye.b),t("props.placeholder",{rules:[{validator:function(e,t,a){t||a(),t&&!/^[^\/\s]+\/[^\/\s]+$/.test(t)&&a(e.message),a()},message:"\u7528/\u5206\u5272\u7684\u4e24\u4e2a\u540d\u79f0"}],initialValue:c.placeholder?c.placeholder.join("/"):"\u5f00\u59cb\u65f6\u95f4/\u622a\u6b62\u65f6\u95f4"})(k.a.createElement(ne.a,{placeholder:"\u4f8b\u5982\uff1a \u5f00\u59cb\u65f6\u95f4/\u622a\u6b62\u65f6\u95f4"}))),k.a.createElement(Ot,Object.assign({label:ye.a.DATE_FORMAT},ye.b),t("props.format",{rules:[{validator:function(e,t,n){t||n(),t&&a("showTime")&&!/^[^\/\s]+ [^\/\s]+$/.test(t)&&n(e.message),n()},message:"\u65e5\u671f\u683c\u5f0f\u5316\u4e0d\u6b63\u786e"}],initialValue:c.format||"".concat("YYYY-MM-DD"," ").concat("HH:mm:ss")})(k.a.createElement(ne.a,{placeholder:"\u4f8b\u5982\uff1a".concat("YYYY-MM-DD"," ").concat("HH:mm:ss")}))),k.a.createElement(Ot,Object.assign({label:ye.a.SHOW_TIME},ye.b),t("props.showTime",{valuePropName:"checked",initialValue:!c.showTime&&!1!==c.showTime||c.showTime})(k.a.createElement(vt.a,{onChange:function(e){n(e?{"props.format":"".concat("YYYY-MM-DD"," ").concat("HH:mm:ss")}:{"props.format":"YYYY-MM-DD"})}}))),a("props.showTime")&&k.a.createElement(Ot,Object.assign({label:ye.a.TIME_FORMAT},ye.b),t("props.showTimeFormat",{initialValue:"object"===typeof c.showTime?c.showTime.format:""})(k.a.createElement(ne.a,{placeholder:"\u4f8b\u5982\uff1a".concat("HH:mm:ss")}))),k.a.createElement(Ot,null,k.a.createElement(Z.a,null,k.a.createElement(Q.a,null,k.a.createElement(D.a,{onClick:this.handleSave,type:"primary"},"\u786e\u5b9a")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.isTouch)return t;var a,n=e.pageJSON.components,r=Object(pe.b)(n);return{formData:(a={},Object(Ee.a)(a,"key",r.key),Object(Ee.a)(a,"label",r.label),Object(Ee.a)(a,"props",r.props),a),current:r}}}]),t}(C.Component),Et=ie.a.create()(jt),yt=Ge.a.RangePicker,Ct=function(e){function t(){return Object(v.a)(this,t),Object(j.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.config,a=Object(q.a)(e,["config"]),n=t.label,r=void 0===n?"":n;return k.a.createElement(ie.a.Item,Object.assign({},ye.b,{style:{marginBottom:0},label:r}),k.a.createElement(yt,a))}}]),t}(C.Component),kt=function(){return{stateName:"",componentName:"TextArea",source:"antd",default:!1,props:{key:"",rows:"",placeholder:""}}},St=function(){return{name:"TextArea",icon:"edit",componentName:"TextArea"}},Nt=ie.a.Item,Dt=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={formData:{},isTouch:!1,current:{id:"",props:{}}},a.handleSave=function(){var e=a.state,t=e.formData,n=e.current,r=a.props,o=r.pageJSON,c=r.onSave;o.components=Object(pe.f)(n.id,o.components,Object(A.a)({},t,{props:Object(A.a)({},n.props,t)})),c&&c(o)},a.handleChange=function(e,t){var n=a.state.formData,r=t.target.value;a.setState({formData:Object(A.a)({},n,Object(Ee.a)({},e,r)),isTouch:!0})},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.state.formData;return k.a.createElement("div",null,k.a.createElement(Nt,Object.assign({label:ye.a.KEY},ye.b),k.a.createElement(ne.a,{value:e.key,placeholder:"\u4f8b\u5982\uff1a name",onChange:this.handleChange.bind(this,"key")})),k.a.createElement(Nt,Object.assign({label:ye.a.LABEL},ye.b),k.a.createElement(ne.a,{value:e.label,placeholder:"\u4f8b\u5982\uff1a \u5907\u6ce8",onChange:this.handleChange.bind(this,"label")})),k.a.createElement(Nt,Object.assign({label:ye.a.PLACEHOLDER},ye.b),k.a.createElement(ne.a,{value:e.placeholder,placeholder:"\u4f8b\u5982\uff1a \u8bf7\u8f93\u5165\u5907\u6ce8\u4fe1\u606f",onChange:this.handleChange.bind(this,"placeholder")})),k.a.createElement(Nt,Object.assign({label:"\u8bbe\u7f6e\u9ad8\u5ea6"},ye.b),k.a.createElement(ne.a,{value:e.rows,placeholder:"\u4f8b\u5982\uff1a 4",onChange:this.handleChange.bind(this,"rows")})),k.a.createElement(Nt,null,k.a.createElement(Z.a,null,k.a.createElement(Q.a,null,k.a.createElement(D.a,{onClick:this.handleSave,type:"primary"},"\u786e\u5b9a")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.isTouch)return t;var a,n=e.pageJSON.components,r=Object(pe.b)(n);return{formData:(a={},Object(Ee.a)(a,"key",r.key),Object(Ee.a)(a,"rows",r.rows),Object(Ee.a)(a,"label",r.label),Object(Ee.a)(a,"placeholder",r.placeholder),a),current:r}}}]),t}(C.Component),Tt=ne.a.TextArea,wt=function(e){function t(){return Object(v.a)(this,t),Object(j.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.label,a=(e.generatePage,Object(q.a)(e,["label","generatePage"]));return k.a.createElement(ie.a.Item,Object.assign({},ye.b,{label:t,style:{marginBottom:0}}),k.a.createElement(Tt,Object.assign({style:{width:"300px"}},a)))}}]),t}(C.Component);wt.defaultProps={label:"\u5907\u6ce8\u4fe1\u606f"};var It,xt=function(){return{stateName:"",componentName:"Radio",source:"antd",default:!1,defaultValue:1,isRequired:!0,key:"status",label:"\u72b6\u6001",options:[{value:1,disabled:!1,rowKey:1,text:"\u542f\u7528"},{value:0,disabled:!1,rowKey:2,text:"\u7981\u7528"}]}},Pt=function(){return{name:"Radio",icon:"edit",componentName:"Radio"}},At=(a(410),a(411)),Vt=a.n(At),Ft=a(293),Jt="value",Rt="label",Lt="text",Yt="checked",Mt="disabled",Bt="options",Kt="key",Ht="rowKey",qt={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:12}}},Gt=function(e){function t(){var e,a,n,r;Object(v.a)(this,t);for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];return(r=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(c)))).state={formData:(n={},Object(Ee.a)(n,Bt,[(a={},Object(Ee.a)(a,Mt,!1),Object(Ee.a)(a,Jt,""),Object(Ee.a)(a,Lt,""),Object(Ee.a)(a,Ht,0),a)]),Object(Ee.a)(n,Rt,""),Object(Ee.a)(n,Kt,""),Object(Ee.a)(n,"isRequired",!0),Object(Ee.a)(n,"defaultValue",1),n),isTouch:!1,errMessage:"",current:{id:"",props:{}}},r.columns=[{title:"\u8868\u5355\u9879Key",dataIndex:"value",key:"value",render:function(e,t,a){return k.a.createElement(ne.a,{value:t[Jt],placeholder:"\u4f8b\u5982\uff1a \u9009\u9879",onChange:r.handleChange.bind(Object(Ft.a)(r),Jt,a)})}},{title:"\u8868\u5355\u9879\u540d\u79f0",dataIndex:"text",key:"text",render:function(e,t,a){return k.a.createElement(ne.a,{value:t[Lt],placeholder:"\u4f8b\u5982\uff1a \u59d3\u540d",onChange:r.handleChange.bind(Object(Ft.a)(r),Lt,a)})}},{title:"\u662f\u5426\u7981\u7528",dataIndex:"disabled",key:"disabled",render:function(e,t,a){return k.a.createElement(vt.a,{defaultChecked:t[Mt],checkedChildren:"\u662f",unCheckedChildren:"\u5426",onChange:r.handleChange.bind(Object(Ft.a)(r),Mt,a)})}},{title:"\u5220\u9664",dataIndex:"delete",key:"delete",render:function(e,t,a){return r.state.formData.options.length>1?k.a.createElement(Q.a,null,k.a.createElement(g.a,{type:"close",onClick:function(){r.handleDeleteChekItem(a)}})):k.a.createElement(k.a.Fragment,null)}}],r.handleSave=function(){var e=r.state,t=e.formData,a=e.current,n=r.props,o=n.pageJSON,c=n.onSave;if(t.label){for(var l=0;l<t.options.length;l++){if(!t.options[l][Lt])return void r.setState({errMessage:"\u8bf7\u8f93\u5165\u8868\u5355\u9879\u540d\u79f0"})}o.components=Object(pe.f)(a.id,o.components,t),c&&c(o)}else r.setState({errMessage:"\u8bf7\u8f93\u5165\u8868\u5355\u540d\u79f0"})},r.handleChange=function(e,t,a){var n=r.state.formData,o="boolean"===typeof a?a:a.target.value;switch(e){case Rt:n.label=o;break;case Kt:n.key=o;break;case Lt:n.options[t][e]=o;break;case Yt:case Mt:default:n.options[t][e]=o}r.setState({formData:n,isTouch:!0})},r.handleAddCheck=function(){var e,t=r.state.formData;t.options.push((e={},Object(Ee.a)(e,Mt,!1),Object(Ee.a)(e,Jt,""),Object(Ee.a)(e,Lt,""),Object(Ee.a)(e,Ht,t.options[t.options.length-1][Ht]+1),e)),r.setState({formData:t,isTouch:!0})},r.handleDeleteChekItem=function(e){var t=r.state.formData;t.options.splice(e,1),r.setState({formData:t})},r.handleAlertClose=function(){r.setState({errMessage:""})},r}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.state,t=e.formData,a=e.errMessage;return k.a.createElement(k.a.Fragment,null,a?k.a.createElement(Vt.a,{message:a,type:"error",closable:!0,onClose:this.handleAlertClose}):null,k.a.createElement("br",null),k.a.createElement(ie.a.Item,Object.assign({},qt,{label:ye.a.LABEL}),k.a.createElement(ne.a,{value:t.label,placeholder:"\u4f8b\u5982\uff1a label",onChange:this.handleChange.bind(this,Rt,0)})),k.a.createElement(ie.a.Item,Object.assign({},qt,{label:ye.a.KEY}),k.a.createElement(ne.a,{value:t.key,placeholder:"\u4f8b\u5982\uff1a key",onChange:this.handleChange.bind(this,Kt,0)})),k.a.createElement(W.a,{rowKey:"rowKey",dataSource:t.options,columns:this.columns,bordered:!0,pagination:!1}),k.a.createElement("br",null),k.a.createElement(Z.a,{type:"flex",justify:"space-between"},k.a.createElement(Q.a,null,k.a.createElement(D.a,{onClick:this.handleAddCheck,type:"primary"},"\u6dfb\u52a0\u9879")),k.a.createElement(Q.a,null,k.a.createElement(D.a,{onClick:this.handleSave,type:"primary"},"\u786e\u5b9a"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.isTouch)return t;var a,n,r=e.pageJSON.components,o=Object(pe.b)(r);return{formData:(n={},Object(Ee.a)(n,Bt,o.options||[(a={},Object(Ee.a)(a,Mt,!1),Object(Ee.a)(a,Jt,""),Object(Ee.a)(a,Lt,""),Object(Ee.a)(a,Ht,0),a)]),Object(Ee.a)(n,Rt,o.label||""),Object(Ee.a)(n,Kt,o.key||""),Object(Ee.a)(n,"isRequired",t.formData.isRequired),Object(Ee.a)(n,"defaultValue",o.defaultValue||t.formData.defaultValue),n),current:o}}}]),t}(C.Component),_t=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={defaultValue:a.props.config.defaultValue},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({defaultValue:e.config.defaultValue})}},{key:"render",value:function(){var e=this;return k.a.createElement(ie.a.Item,Object.assign({},ye.b,{style:{marginBottom:0},label:this.props.config.label}),k.a.createElement(Pe.a.Group,{value:this.state.defaultValue,onChange:function(t){e.setState({defaultValue:t.target.value})}},this.props.config.options.map(function(e){return k.a.createElement("div",{style:{display:"inline-block"},key:e.rowKey,onClick:function(e){e.stopPropagation()}},k.a.createElement(Pe.a,{value:e.value,disabled:e.disabled},e.text))})))}}]),t}(C.Component),Wt=function(){return{stateName:"",componentName:"CheckBox",source:"antd",default:!1,options:[{props:{disabled:!1,checked:!1,value:""},text:"",rowKey:0}],label:"",key:""}},$t=function(){return{name:"CheckBox",icon:"check-circle",componentName:"CheckBox"}},Ut=a(723),zt="value",Qt="label",Xt="text",Zt="checked",ea="disabled",ta="options",aa="key",na="rowKey",ra=function(e){function t(){var e,a,n,r,o;Object(v.a)(this,t);for(var c=arguments.length,l=new Array(c),i=0;i<c;i++)l[i]=arguments[i];return(o=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(l)))).state={formData:(r={},Object(Ee.a)(r,ta,[(n={props:(a={},Object(Ee.a)(a,ea,!1),Object(Ee.a)(a,Zt,!1),Object(Ee.a)(a,zt,""),a)},Object(Ee.a)(n,Xt,""),Object(Ee.a)(n,na,0),n)]),Object(Ee.a)(r,Qt,""),Object(Ee.a)(r,aa,""),r),isTouch:!1,errMessage:"",current:{id:"",props:{}}},o.columns=[{title:"\u8868\u5355\u9879Key",dataIndex:"value",key:"value",render:function(e,t,a){return k.a.createElement(ne.a,{value:t.props[zt],placeholder:"\u4f8b\u5982\uff1a \u9009\u9879",onChange:o.handleChange.bind(Object(Ft.a)(o),zt,a)})}},{title:"\u8868\u5355\u9879\u540d\u79f0",dataIndex:"text",key:"text",render:function(e,t,a){return k.a.createElement(ne.a,{value:t[Xt],placeholder:"\u4f8b\u5982\uff1a \u59d3\u540d",onChange:o.handleChange.bind(Object(Ft.a)(o),Xt,a)})}},{title:"\u662f\u5426\u9ed8\u8ba4\u9009\u4e2d",dataIndex:"check",key:"check",render:function(e,t,a){return k.a.createElement(vt.a,{defaultChecked:t[Zt],checkedChildren:"\u662f",unCheckedChildren:"\u5426",onChange:o.handleChange.bind(Object(Ft.a)(o),Zt,a)})}},{title:"\u662f\u5426\u7981\u7528",dataIndex:"disabled",key:"disabled",render:function(e,t,a){return k.a.createElement(vt.a,{defaultChecked:t[ea],checkedChildren:"\u662f",unCheckedChildren:"\u5426",onChange:o.handleChange.bind(Object(Ft.a)(o),ea,a)})}},{title:"\u5220\u9664",dataIndex:"delete",key:"delete",render:function(e,t,a){return o.state.formData.options.length>1?k.a.createElement(Q.a,null,k.a.createElement(g.a,{type:"close",onClick:function(){o.handleDeleteChekItem(a)}})):k.a.createElement(k.a.Fragment,null)}}],o.handleSave=function(){var e=o.state,t=e.formData,a=e.current,n=o.props,r=n.pageJSON,c=n.onSave;if(t.label){for(var l=0;l<t.options.length;l++){if(!t.options[l][Xt])return void o.setState({errMessage:"\u8bf7\u8f93\u5165\u8868\u5355\u9879\u540d\u79f0"})}r.components=Object(pe.f)(a.id,r.components,t),c&&c(r)}else o.setState({errMessage:"\u8bf7\u8f93\u5165\u8868\u5355\u540d\u79f0"})},o.handleChange=function(e,t,a){var n=o.state.formData,r="boolean"===typeof a?a:a.target.value;switch(e){case Qt:n.label=r;break;case aa:n.key=r;break;case Xt:n.options[t][e]=r;break;case Zt:case ea:default:n.options[t].props[e]=r}o.setState({formData:n,isTouch:!0})},o.handleAddCheck=function(){var e,t,a=o.state.formData;a.options.push((t={props:(e={},Object(Ee.a)(e,ea,!1),Object(Ee.a)(e,Zt,!1),Object(Ee.a)(e,zt,""),e)},Object(Ee.a)(t,Xt,""),Object(Ee.a)(t,na,a.options[a.options.length-1][na]+1),t)),o.setState({formData:a,isTouch:!0})},o.handleDeleteChekItem=function(e){var t=o.state.formData;t.options.splice(e,1),o.setState({formData:t})},o.handleAlertClose=function(){o.setState({errMessage:""})},o}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.state,t=e.formData,a=e.errMessage;return k.a.createElement(k.a.Fragment,null,a?k.a.createElement(Vt.a,{message:a,type:"error",closable:!0,onClose:this.handleAlertClose}):null,k.a.createElement("br",null),k.a.createElement(Ut.a.Item,Object.assign({label:ye.a.LABEL},ye.b),k.a.createElement(ne.a,{value:t.label,placeholder:"\u4f8b\u5982\uff1a label",onChange:this.handleChange.bind(this,Qt,0)})),k.a.createElement(Ut.a.Item,Object.assign({label:ye.a.KEY},ye.b),k.a.createElement(ne.a,{value:t.key,placeholder:"\u4f8b\u5982\uff1a key",onChange:this.handleChange.bind(this,aa,0)})),k.a.createElement(W.a,{rowKey:"rowKey",dataSource:t.options,columns:this.columns,bordered:!0,pagination:!1}),k.a.createElement("br",null),k.a.createElement(Z.a,{type:"flex",justify:"space-between"},k.a.createElement(Q.a,null,k.a.createElement(D.a,{onClick:this.handleAddCheck,type:"primary"},"\u6dfb\u52a0\u9879")),k.a.createElement(Q.a,null,k.a.createElement(D.a,{onClick:this.handleSave,type:"primary"},"\u786e\u5b9a"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.isTouch)return t;var a,n,r,o=e.pageJSON.components,c=Object(pe.b)(o);return{formData:(r={},Object(Ee.a)(r,ta,c.options||[(n={props:(a={},Object(Ee.a)(a,ea,!1),Object(Ee.a)(a,Zt,!1),Object(Ee.a)(a,zt,""),a)},Object(Ee.a)(n,Xt,""),Object(Ee.a)(n,na,0),n)]),Object(Ee.a)(r,Qt,c.label||""),Object(Ee.a)(r,aa,c.key||""),r),current:c}}}]),t}(C.Component),oa=function(e){function t(){return Object(v.a)(this,t),Object(j.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props.config;return k.a.createElement(ie.a.Item,Object.assign({label:e&&e.label?e.label:"\u8868\u5355\u540d\u79f0"},ye.b,{style:{marginBottom:0}}),e.label?e.options.map(function(e,t){return k.a.createElement(te.a,{key:t,checked:e.props.checked,disabled:e.props.disabled},e.text)}):k.a.createElement(te.a,{checked:!1,disabled:!1},"\u9009\u62e9\u9879"))}}]),t}(k.a.Component),ca=Object(V.a)(F,1)[0].key,la=function(){return{stateName:"",componentName:"Form",source:"antd",default:!1,type:ca,key:"",label:""}},ia=function(){return{name:"Form",icon:"form",componentName:"Form"}},sa=Object(V.a)(F,2),ua=sa[0].key,pa=sa[1].key,ma=ie.a.Item,da=Pe.a.Group,ha={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:12}}},ba="type",fa="saveApi",ga="updateApi",va=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={formData:{},isTouch:!1},a.handleSave=function(){var e=a.state.formData,t=a.props,n=t.pageJSON,r=t.onSave;n.components=n.components.map(function(t){return t.configVisible&&(t=Object(A.a)({},t,e,{props:Object(A.a)({},t.props)})),t}),r&&r(n)},a.handleChange=function(e,t){var n=a.state.formData;a.setState({formData:Object(A.a)({},n,Object(Ee.a)({},e,t)),isTouch:!0})},a.getTypeForm=function(){var e=a.state.formData;switch(e[ba]){case pa:return k.a.createElement(C.Fragment,null);case ua:return k.a.createElement(C.Fragment,null,k.a.createElement(ma,Object.assign({label:"\u65b0\u589eAPI"},ha),k.a.createElement(ne.a,{placeholder:"\u65b0\u589eAPI",value:e[fa],onChange:function(e){var t=e.target.value;a.handleChange(fa,t)}})),k.a.createElement(ma,Object.assign({label:"\u4fee\u6539API"},ha),k.a.createElement(ne.a,{placeholder:"\u4fee\u6539API",value:e[ga],onChange:function(e){var t=e.target.value;a.handleChange(ga,t)}})))}},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=this.state.formData;return k.a.createElement("div",null,k.a.createElement(ma,Object.assign({label:"\u7ed1\u5b9aredux\u7684Key"},ha),k.a.createElement(ne.a,{value:t.stateName,placeholder:"\u4f8b\u5982\uff1a userSearchForm / userInfo",onChange:function(t){var a=t.target.value;e.handleChange("stateName",a)}})),k.a.createElement(ma,Object.assign({label:"\u662f\u5426\u9009\u4e2d"},ha),k.a.createElement(da,{value:t[ba],onChange:function(t){var a=t.target.value;e.handleChange(ba,a)}},F.map(function(e){var t=e.key,a=e.name;return k.a.createElement(Pe.a,{key:t,value:t},a)}))),this.getTypeForm(),k.a.createElement(ma,null,k.a.createElement(Z.a,null,k.a.createElement(Q.a,null,k.a.createElement(D.a,{onClick:this.handleSave,type:"primary"},"\u786e\u5b9a")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(t.isTouch)return t;var a,n=e.pageJSON.components.find(function(e){return e.configVisible});return{formData:(a={},Object(Ee.a)(a,"stateName",n.stateName),Object(Ee.a)(a,ba,n[ba]),Object(Ee.a)(a,"link",n.link),Object(Ee.a)(a,fa,n[fa]),Object(Ee.a)(a,ga,n[ga]),a)}}}]),t}(C.Component),Oa=(a(717),function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).renderChildren=function(){var e=a.props.config;return e.components&&e.components.length?k.a.createElement(Sa,{dataSource:e.components,generatePage:a.props.generatePage}):null},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return k.a.createElement("div",{className:"form-container"},k.a.createElement("div",{className:"form-container-background"},this.renderChildren()))}}]),t}(C.Component)),ja={Input:r,Select:o,DatePicker:c,InputNumber:l,RangePicker:i,TextArea:s,Radio:u,CheckBox:p},Ea={Table:n},ya={Form:m},Ca=Object(A.a)({},Ea,ja,ya),ka=(a(718),P.a.confirm),Sa=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).renderComponent=function(e){var t=Ca[e.componentName].component;if(!t)return console.error("thanos\uff1ano present component"),null;var n=e.props,r=Object(q.a)(e,["props"]),o=Object(A.a)({},n||{},{config:r,generatePage:a.props.generatePage});return k.a.createElement(t,o)},a.handleClick=function(e,t){t.stopPropagation();var n=e.id,r=a.props.generatePage.pageJSON.components;a.setJSON({components:Object(pe.a)(n,r,{componentSelected:!0,configVisible:!0})})},a.filterComponent=function(e,t){return t.filter(function(t){return e!==t.id&&(t.components&&(t.components=a.filterComponent(e,t.components)),!0)})},a.setRedux=function(e){S.actions.generatePage.setReducers(e)},a.setJSON=function(e){var t=a.props.generatePage.pageJSON;a.setRedux({pageJSON:Object(A.a)({},t,e)})},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=this.props.generatePage.pageJSON.components,a=this.props.dataSource||t;return k.a.createElement("div",{className:"render-page"},k.a.createElement(G.a,{onRender:function(a){return k.a.createElement("div",{onClick:function(t){e.handleClick(a,t)},className:a.componentSelected?"page-item component-selected":"page-item"},e.renderComponent(a),k.a.createElement("div",{className:"item-close",onClick:function(n){n.stopPropagation(),ka({title:"\u8bf7\u786e\u8ba4\u5220\u9664\u7ec4\u4ef6",content:"\u5220\u9664\u540e\u5176\u914d\u7f6e\u4f1a\u6d88\u5931\uff0c\u8bf7\u8c28\u614e\u64cd\u4f5c",onOk:function(){e.setJSON({components:e.filterComponent(a.id,t)})}})}},k.a.createElement(g.a,{type:"close-circle",className:"item-close-icon"})))},dataSource:a,onDragStart:function(){},onDragEnd:function(t){e.setJSON({components:t})}}))}}]),t}(C.Component),Na=(a(325),ie.a.Item),Da=function(e){function t(){return Object(v.a)(this,t),Object(j.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dataSource,a=e.span,n=e.onClick,r=e.title;return k.a.createElement("div",null,k.a.createElement("div",{className:"component-type-title"},r),t.map(function(e,t){return k.a.createElement(Na,{key:t},k.a.createElement(Z.a,{gutter:8},e.map(function(e,r){var o=e.icon,c=e.name;return k.a.createElement(Q.a,{span:a,key:"".concat(t,"_").concat(r)},k.a.createElement("div",{className:"component-item",onClick:function(){n&&n(e.componentName)}},k.a.createElement(g.a,{type:o})," ",c))})))}))}}]),t}(C.Component),Ta=ne.a.Search,wa=ie.a.Item,Ia=2,xa=function(e){return Object.keys(e).map(function(t){return e[t].getTools()})},Pa={DATA_DISPLAY:xa(Ea),DATA_ENTRY:xa(ja),OTHER_COMPONENTS:xa(ya)},Aa=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={search:""},a.handleClick=function(e){a.props.generatePage.pageJSON.components.some(function(e){var t=e.componentName,a=e.componentSelected;return"Form"===t&&a})?S.actions.generatePage.insertFormComponent(Ca[e].getInitJson()):S.actions.generatePage.insertComponent(Ca[e].getInitJson())},a.fliterComponent=function(e){var t=a.state.search;return e.filter(function(e){return e.name.toLocaleLowerCase().includes(t.toLocaleLowerCase())}).reduce(function(e,t){var a=e[e.length-1];return a&&a.length!==Ia?a.push(t):e.push([t]),e},[])},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=24/Ia,a=this.fliterComponent(Pa.DATA_DISPLAY),n=this.fliterComponent(Pa.DATA_ENTRY),r=this.fliterComponent(Pa.OTHER_COMPONENTS);return k.a.createElement("div",{className:"thanos-page-config"},k.a.createElement("div",{className:"thanos-page-config-title"},"\u7ec4\u4ef6\u5e93"),k.a.createElement("div",{className:"thanos-page-config-form"},k.a.createElement(wa,null,k.a.createElement(Ta,{placeholder:"\u7ec4\u4ef6\u67e5\u8be2",onSearch:function(t){return e.setState({search:t})}})),k.a.createElement(Da,{dataSource:n,span:t,onClick:this.handleClick,title:"\u5f55\u5165\u7ec4\u4ef6"}),k.a.createElement(Da,{dataSource:a,span:t,onClick:this.handleClick,title:"\u5c55\u793a\u7ec4\u4ef6"}),k.a.createElement(Da,{dataSource:r,span:t,onClick:this.handleClick,title:"\u5176\u4ed6\u7ec4\u4ef6"})))}}]),t}(C.Component),Va=(a(719),a(721)),Fa=a.n(Va),Ja=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1,component:{id:"",componentName:""}},a.getShowConfig=function(e){e||(e=a.props.generatePage.pageJSON.components);var t,n=!1;return e.forEach(function(e){if(!n){if(e.configVisible)return n=!0,void(t=e);if(e.components){var r=a.getShowConfig(e.components);r.visible&&(n=!0,t=r.component)}}}),{visible:n,component:t}},a.onClose=function(e){e||(e=a.props.generatePage.pageJSON.components);var t=a.state.component;a.setJSON({components:Object(pe.a)(t.id,e,{configVisible:!1})})},a.setRedux=function(e){S.actions.generatePage.setReducers(e)},a.setJSON=function(e){var t=a.props.generatePage.pageJSON;a.setRedux({pageJSON:Object(A.a)({},t,e)})},a.handleSave=function(e){a.setRedux(e),a.onClose()},a.renderConfig=function(){var e=a.props.generatePage.pageJSON,t=a.state.component,n=Ca[(t||{}).componentName];if(n){var r=n.config,o={pageJSON:e,onSave:a.handleSave};return k.a.createElement(r,o)}return null},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(A.a)({},this.getShowConfig()))}},{key:"render",value:function(){var e=this,t=this.state.visible;return k.a.createElement(Fa.a,{width:700,title:"\u7ec4\u4ef6\u914d\u7f6e",placement:"right",mask:!1,onClose:function(){e.onClose()},visible:t},this.renderConfig())}}]),t}(C.Component),Ra=(a(722),ie.a.Item),La=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).handleChangeName=function(e){S.actions.generatePage.changeTemplateName({name:e.target.value})},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return k.a.createElement("div",{className:"thanos-page-config"},k.a.createElement("div",{className:"thanos-page-config-title"},"\u9875\u9762\u914d\u7f6e"),k.a.createElement("div",{className:"thanos-page-config-form"},k.a.createElement(Ra,null,k.a.createElement(ne.a,{placeholder:"\u9875\u9762\u540d\u79f0",value:this.props.generatePage.pageName,onChange:this.handleChangeName}))))}}]),t}(C.Component),Ya=Object(S.connect)(function(e){return{generatePage:e.generatePage}})(La),Ma=Object(S.connect)(function(e){var t=e.generatePage,a=void 0===t?{}:t,n=e.operate;return{generatePage:a,operate:void 0===n?{}:n}})(It=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(j.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).getShowConfig=function(e){e||(e=a.props.generatePage.pageJSON.components);var t,n=!1;return e.forEach(function(e){if(!n){if(e.configVisible)return n=!0,void(t=e);if(e.components){var r=a.getShowConfig(e.components);r.visible&&(n=!0,t=r.component)}}}),{visible:n,component:t}},a}return Object(y.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){S.actions.operate.save({modelName:"generatePage",data:{count:0}}),"-1"!==this.props.match.params.name?S.actions.generatePage.getTemplateItem({pageName:this.props.match.params.name}):S.actions.generatePage.setReducers({pageName:""})}},{key:"render",value:function(){var e=this.props.operate,t=e.undoDisable,a=e.redoDisable,n=this.getShowConfig().visible;return k.a.createElement("div",{className:"thanos-generate-page-container"},k.a.createElement(H,{showTopToolbar:!0}),k.a.createElement("div",{className:"page-wrapper"},k.a.createElement("div",{className:"left-toolbar"},k.a.createElement(b.a,{placement:"right",title:"\u64a4\u9500"},k.a.createElement(g.a,{type:"undo",style:t?{color:"#ccc",cursor:"not-allowed"}:{},onClick:t?function(){}:function(){S.actions.operate.undo()}})),k.a.createElement(b.a,{placement:"right",title:"\u91cd\u505a"},k.a.createElement(g.a,{type:"redo",style:a?{color:"#ccc",cursor:"not-allowed"}:{},onClick:a?function(){}:function(){S.actions.operate.redo()}})),k.a.createElement(b.a,{placement:"right",title:"\u653e\u5927"},k.a.createElement(g.a,{type:"plus"})),k.a.createElement("span",{className:"scale-percent"},"100%"),k.a.createElement(b.a,{placement:"right",title:"\u7f29\u5c0f"},k.a.createElement(g.a,{type:"minus"}))),k.a.createElement("div",{className:"page-shower"},k.a.createElement("div",{className:"canvas"},k.a.createElement("div",{className:"thanos-page"},k.a.createElement("div",{className:"thanos-page-operation"},k.a.createElement(Ya,null),k.a.createElement(Aa,this.props)),k.a.createElement("div",{className:"thanos-page-container"},k.a.createElement(Sa,this.props)),n&&k.a.createElement(Ja,this.props))))))}}]),t}(C.Component))||It;t.default=Ma},198:function(e,t,a){"use strict";a.d(t,"c",function(){return o}),a.d(t,"a",function(){return c}),a.d(t,"b",function(){return l}),a.d(t,"f",function(){return i}),a.d(t,"d",function(){return s});var n=a(185),r=(a(239),a(206));a.d(t,"e",function(){return r.a});var o=function(){return Math.random().toString(36).substring(2)};var c=function e(t,a,r){return a.map(function(a){return a.id===t?a=Object(n.a)({},a,r):a.components&&(a.components=e(t,a.components,r)),a})},l=function e(t){var a;return t.forEach(function(t){if(!a)if(t.configVisible)a=t;else if(t.components){var n=e(t.components);n&&(a=n)}}),a},i=function e(t,a,r){return a.map(function(a){var o=a,c=o.id,l=o.components;return c===t?a=Object(n.a)({},a,r):l&&l.length&&(a.components=e(t,l,r)),a})},s=function(e,t){var a=e;return t.find(function(e){return e.path===a})||{}}},206:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(185),r=(a(254),a(257)),o=a.n(r),c=a(255),l=a(256),i={200:"\u670d\u52a1\u5668\u6210\u529f\u8fd4\u56de\u8bf7\u6c42\u7684\u6570\u636e\u3002",201:"\u65b0\u5efa\u6216\u4fee\u6539\u6570\u636e\u6210\u529f\u3002",202:"\u4e00\u4e2a\u8bf7\u6c42\u5df2\u7ecf\u8fdb\u5165\u540e\u53f0\u6392\u961f\uff08\u5f02\u6b65\u4efb\u52a1\uff09\u3002",204:"\u5220\u9664\u6570\u636e\u6210\u529f\u3002",400:"\u53d1\u51fa\u7684\u8bf7\u6c42\u6709\u9519\u8bef\uff0c\u670d\u52a1\u5668\u6ca1\u6709\u8fdb\u884c\u65b0\u5efa\u6216\u4fee\u6539\u6570\u636e\u7684\u64cd\u4f5c\u3002",401:"\u7528\u6237\u6ca1\u6709\u6743\u9650\uff08\u4ee4\u724c\u3001\u7528\u6237\u540d\u3001\u5bc6\u7801\u9519\u8bef\uff09\u3002",403:"\u7528\u6237\u5f97\u5230\u6388\u6743\uff0c\u4f46\u662f\u8bbf\u95ee\u662f\u88ab\u7981\u6b62\u7684\u3002",404:"\u53d1\u51fa\u7684\u8bf7\u6c42\u9488\u5bf9\u7684\u662f\u4e0d\u5b58\u5728\u7684\u8bb0\u5f55\uff0c\u670d\u52a1\u5668\u6ca1\u6709\u8fdb\u884c\u64cd\u4f5c\u3002",406:"\u8bf7\u6c42\u7684\u683c\u5f0f\u4e0d\u53ef\u5f97\u3002",410:"\u8bf7\u6c42\u7684\u8d44\u6e90\u88ab\u6c38\u4e45\u5220\u9664\uff0c\u4e14\u4e0d\u4f1a\u518d\u5f97\u5230\u7684\u3002",422:"\u5f53\u521b\u5efa\u4e00\u4e2a\u5bf9\u8c61\u65f6\uff0c\u53d1\u751f\u4e00\u4e2a\u9a8c\u8bc1\u9519\u8bef\u3002",500:"\u670d\u52a1\u5668\u53d1\u751f\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u670d\u52a1\u5668\u3002",502:"\u7f51\u5173\u9519\u8bef\u3002",503:"\u670d\u52a1\u4e0d\u53ef\u7528\uff0c\u670d\u52a1\u5668\u6682\u65f6\u8fc7\u8f7d\u6216\u7ef4\u62a4\u3002",504:"\u7f51\u5173\u8d85\u65f6\u3002"};function s(e,t){var a;if("status"in e?a=e.status:"errcode"in e?a=e.errcode:"code"in e&&(a=e.code),a>=200&&a<300||0===a)return e;if(t)return e;var n=e.statusText||e.result&&e.result.message||i[a];401!==a&&o.a.error({message:"\u8bf7\u6c42\u9519\u8bef ".concat(a),description:n});var r=new Error(n);throw r.name=a,r.response=e,r}function u(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Object(n.a)({},{mode:"cors",headers:{}},t);switch("".concat(r.method)){case"post":case"POST":r.method="POST";break;case"get":case"GET":r.method="GET"}return"POST"===r.method||"PUT"===r.method?r.body instanceof FormData?delete r.headers:(r.headers=Object(n.a)({Accept:"application/json","Content-Type":"application/json; charset=utf-8"},r.headers),r.body=JSON.stringify(r.body)):"GET"===r.method&&(r.body&&(e="".concat(e,"?").concat(Object(c.stringify)(r.body))),r=null),l(e,r).then(function(e){return s(e,a)}).then(function(e){return e.json()}).then(function(e){return s(e,a)}).catch(function(e){console.warn(e)})}},261:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var n=a(58),r=a(55),o=function(e){n.a.push("".concat(r.c,"/").concat(e))}},298:function(e,t,a){},325:function(e,t,a){},326:function(e,t,a){"use strict";var n=a(185),r=a(251),o=a(177),c=a(178),l=a(181),i=a(179),s=a(180),u=a(0),p=a.n(u),m=a(414),d=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).reorder=function(e,t,a){var n=Array.from(e),o=n.splice(t,1),c=Object(r.a)(o,1)[0];return n.splice(a,0,c),n},a.handleDragStart=function(){a.props.onDragStart()},a.handleDragEnd=function(e){if(e.destination){var t=a.reorder(a.props.dataSource,e.source.index,e.destination.index);a.props.onDragEnd(t,e)}},a}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dataSource,a=e.direction,r=e.droppableId,o=e.interval,c=e.onRender,l=e.emptyNode;return p.a.createElement(m.a,{onDragEnd:this.handleDragEnd,onDragStart:this.handleDragStart},p.a.createElement(m.c,{droppableId:r,direction:a},function(e,a){return p.a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef,className:"drappable-container ".concat(a.isDraggingOver?"draggingOver":"")}),p.a.createElement(p.a.Fragment,null,t.map(function(e,t){return p.a.createElement(m.b,{key:t,index:t,draggableId:"".concat(r,"-").concat(t)},function(a,r){return p.a.createElement("div",Object.assign({ref:a.innerRef},a.draggableProps,a.dragHandleProps,{className:"draggable-container ".concat(r.isDragging?"isDragging":""),style:Object(n.a)({marginBottom:o},a.draggableProps.style)}),c(e,t))})}),!t.length&&l,e.placeholder))}))}}]),t}(p.a.PureComponent);d.defaultProps={droppableId:"drappable",direction:"vertical",interval:0,onDragStart:function(){},onDropEnd:function(){},emptyNode:p.a.createElement("div",{style:{textAlign:"center"}},"\u6682\u65e0\u6570\u636e")};a(214);var h=a(176),b=a.n(h),f=(a(199),a(202)),g=a.n(f),v=(a(200),a(201)),O=a.n(v),j=(a(186),a(187)),E=a.n(j),y=(a(298),E.a.Item),C={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},k=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={extend:!("defaultExtend"in a.props)||a.props.defaultExtend},a.renderSearchItem=function(e,t){var n=a.props,r=n.form,o=n.col,c=n.bottom,l=r.getFieldDecorator;return e.render?e.render():p.a.createElement(O.a,{key:e.key,span:o},p.a.createElement(y,Object.assign({},C,{style:{marginBottom:c},label:e.title,className:t?"hide-item":""}),l(e.key,e.options||{})(e.component)))},a.getExtend=function(e){return e?{name:"\u5c55\u5f00",type:"down"}:{name:"\u6536\u8d77",type:"up"}},a.renderSeachForm=function(){var e,t=a.props,r=t.components,o=t.split,c=t.actions,l=t.col,i=t.onExtend,s=t.bottom,u=r.reduce(function(e,t){var a=e.length,n=e[a-1];return a&&n&&n.length<o?n.push(t):e.push([t]),e},[]),m=r.length>o,d="extend"in a.props?a.props.extend:a.state.extend,h={},f=(e=u[u.length-1].length===o?[]:u.pop()).length%o;h=!u.length&&f<o-1?Object(n.a)({},h,{textAlign:"left",paddingLeft:"4px"}):Object(n.a)({},h,{textAlign:"right"});var v=a.getExtend(d),j=v.name,E=v.type;return p.a.createElement("div",{className:"kssearchform"},u.map(function(e,t){return p.a.createElement(g.a,{key:t,className:m&&t>0&&d?"extend":""},e.map(function(e){return a.renderSearchItem(e,Boolean(m&&t>0&&d))}))}),p.a.createElement(g.a,null,e.map(function(e){return a.renderSearchItem(e,Boolean(m&&d))}),p.a.createElement(O.a,{span:m&&d?l*o:l*(o-f),style:h},p.a.createElement(y,{style:{marginBottom:s}},m&&p.a.createElement("span",null,p.a.createElement("a",{className:"more",onClick:function(){a.setState({extend:!d}),i&&i(!d)}},j,p.a.createElement(b.a,{type:E}))),c))))},a}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return p.a.createElement("div",null,this.renderSeachForm())}}]),t}(u.Component);k.defaultProps={col:7,split:3,bottom:12},a.d(t,"a",function(){return d}),a.d(t,"b",function(){return k})},660:function(e,t,a){},717:function(e,t,a){},718:function(e,t,a){},722:function(e,t,a){}}]);
//# sourceMappingURL=7.1fa62321.chunk.js.map